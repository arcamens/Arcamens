{% load i18n %}
{% load listutils %}
{% load bootstrap3 %}

<div class="modal-header">
<button type="button" class="close" data-dismiss="modal">&times;</button>
<h4>  
<span class="glyphicon glyphicon-tasks"></span> 
Card/Tasks <span class="badge">{{count}}/{{total}}</span></h4>
</div>

<div class="modal-body">
{{ elems | safe}}

<br>
<form id="task-search-form" enctype="multipart/form-data">
{% csrf_token %}
{% bootstrap_field form.pattern  size='md' %}
{% bootstrap_field form.done  size='md' %}

{% bootstrap_form_errors form type='non_fields' %}
</form>

</div>

<div class="modal-footer">

<button  type="button" data-form="#task-search-form" id="filterAllTasks"
href="#" data-show="{% url 'card_app:list-all-tasks'  %}" class="btn btn-default m-post"> {% trans "Filter" %} </button>

<button  type="button" data-dismiss="modal" class="btn btn-default"> 
     {% trans "Close" %}
</button>
</div>

<script>
$('#task-search-form').on('submit', (function(e){
    e.preventDefault();
        $('#filterAllTasks').click();

}));
</script>




